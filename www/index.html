<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <meta http-equiv="Content-Security-Policy" content="*">
        <script src="js/stockMarket.js"></script>
        <script src="cordova.js"></script>
        <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />
        <script src="js/jquery-2.1.4.min.js"></script>
        <script src="js/jquery.mobile-1.4.5.min.js"></script>
        <title>stockMarketApp</title>
    </head>

    <!-- DROPDOWN STYLE -->
    <style>
        .dropbtn {
    color: white;
    border: none;
    cursor: pointer;
}

/* .dropbtn:hover, .dropbtn:focus {
    background-color: #3e8e41;
} */

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #21272d;
    min-width: 160px;
    overflow: auto;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown a:hover {background-color: #21272d}
.show {display:block;}
</style>

<!-- DROPDOWN -->
<script>
        /* When the user clicks on the button, 
        toggle between hiding and showing the dropdown content */
        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
        }
        
        // Close the dropdown if the user clicks outside of it
        window.onclick = function(event) {
          if (!event.target.matches('.dropbtn')) {
        
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        }
        </script>

    <body style="margin: 0px;" bgcolor="#21272d" onload="start(); ">

        <!-- STRONA z PERSONALIZACJA -->
           
    <div data-role="page" id="mainPage3" class="ui-body-b">
        <div data-role="header">
              
            <h1>Wybrane spółki:</h1>
                    <button onclick="myFunction()" class="dropbtn ui-btn ui-icon-grid ui-btn-icon-notext">Menu</button> 
                      <div id="myDropdown" class="dropdown-content" >
                        <a href="#">O aplikacji</a>
                        <a href="#">Zamknij</a>
                      </div>
                    
        </div>
        <div data-role="main" class="ui-content" >
                
            <div class="ui-grid-solo" >
                <label>Wybierz obserwowane spółki</label>
                <div class="ui-field-contain">
                    <form>
                        <select name="select-custom-19" id="selectPrefCompany" multiple="multiple" data-native-menu="false">
                    <!--        <option>Wybierz elementy</option>-->
                    <!--        <option value="1">The 1st Option</option>-->
                    <!--        <option value="2" selected="selected">The 2nd Option</option>-->
                    <!--        <option value="3" selected="selected">The 3rd Option</option>-->
                    <!--        <option value="4">The 4th Option</option>-->
                        </select>
                    </form>
                </div>
                <input type="button" id="saveSelectedPreferences" value="Zapisz wybrane spółki" onclick="saveSelectedCompanyList()"/>
            </div>
         
        
        </div>
        <div data-role="footer" style="text-align:center;">
                <a href="#mainPage2" data-role="button" class="ui-shadow ui-btn ui-icon-arrow-l ui-btn-icon-left ui-corner-all" data-transition="slide" data-direction="reverse">Poprzednia strona</a>
                <a href="#mainPage" data-role="button" class="ui-shadow ui-btn ui-icon-arrow-r ui-btn-icon-right ui-corner-all" data-transition="slide" >Następna strona</a>
                
                <label>Czas ostatniego pobrania danych:</label>                    
                <label>Czas ostatniego odświeżenia:</label>
              </div>
    </div>
 <!-- STRONA index wszystkich spolek -->

        <div data-role="page" id="mainPage" class="ui-body-b">
        <div data-role="header">
        <h1>Ogólne informacje mWIG40</h1>
        </div>
        <div data-role="main" class="ui-content" >
        <div class="ui-grid-solo" >
                <div class="stockInformation">
                    <label>Kurs bieżący WIG40: <a id="wig40StockIndex"></a> </label>
                    <label>Zmiana [%]: <a id="percentChangeWig40"></a></label>
                    <label>Zmiana [pkt]: <a id="pointChangeWig40"></a></label>
                    <label>Poprz. zamk.: <a id="prevClosureWig40"></a></label>
                    <label>Otwarcie: <a id="todayOpeningWig40"></a></label>
                    <label>Dzienne min: <a id="dailyMinWig40"></a></label>
                    <label>Dzienne max: <a id="dailyMaxWig40"></a></label>
                    <label>Obrót[PLN]: <a id="curAssetsWig40"></a></label>
                    <img id="ogolnyWykresWig40" src="" alt="[wykres mWIG40]" data-rel="external" style='height: 100%; width: 100%; max-width: 600px;object-fit: contain'/>
                </div>
        </div>
     
        </div>
        <div data-role="footer" style="text-align:center;">
                <a href="#mainPage3" data-role="button" class="ui-shadow ui-btn ui-icon-arrow-l ui-btn-icon-left ui-corner-all" data-transition="slide" data-direction="reverse">Poprzednia strona</a>
                <a href="#mainPage2" data-role="button" class="ui-shadow ui-btn ui-icon-arrow-r ui-btn-icon-right ui-corner-all" data-transition="slide" >Następna strona</a>
                
                <label>Czas ostatniego pobrania danych:</label>                    
                <label>Czas ostatniego odświeżenia:</label>
              </div>
        </div>

    <!--STRONA z info o wybranej spolce-->

        <div data-role="page" id="mainPage2" class="ui-body-b">
            <div data-role="header">
                <h1>Informacje o wybranej spółce</h1>
            </div>
            <div data-role="main" class="ui-content" >
                <div class="ui-grid-solo" >
                   
                    <form>
                        <div class="wig40CompanyList">
                            <label>Lista spółek:</label>
                            <select name="select-choice-a" id="companyListSelect2">
                                <option value="-1">Wybierz spółkę</option>
                            </select>
                        </div>
                    </form>
                    <div class="selectedCompanyIndexInfo2">
                        <input type="button" id="getSelectedCompanyIndex2" value="Pobierz informacje o wybranej spółce" onclick="getSelectedCompanyInformation()"/>
                        <label>Indeks wybranej spolki: <a id="currentIndexValue2"></a></label>
                        <label>Zmiana [%]: <a id="percentChangeForCompany"></a> </label>
                        <label>Zmiana [pkt]: <a id="pointChangeForCompany"></a></label>
                        <label>Obrót[PLN]: <a id="curAssetsForCompany"></a></label>
                        <label>Dzienne min: <a id="dailyMinForCompany"></a></label>
                        <label>Dzienne max: <a id="dailyMaxForCompany"></a>  </label>
                        <label>Wykres giełdowy wybranej spółki:</label>
                        <img id="wykresWybranejSpolki" src="" alt="[tu pojawi sie wykres]" data-rel="external" style='height: 100%; width: 100%; max-width: 600px;object-fit: contain'/>
                    </div>
                </div>              
            </div>
            <div data-role="footer" style="text-align:center;">
                    <a href="#mainPage" data-role="button" class="ui-shadow ui-btn ui-icon-arrow-l ui-btn-icon-left ui-corner-all" data-transition="slide" data-direction="reverse">Poprzednia strona</a>
                    <a href="#mainPage3" data-role="button" class="ui-shadow ui-btn ui-icon-arrow-r ui-btn-icon-right ui-corner-all" data-transition="slide" >Następna strona</a>
                    
                    <label>Czas ostatniego pobrania danych:</label>                    
                    <label>Czas ostatniego odświeżenia:</label>
                  </div>
        </div>

        

    </body>
</html>
